<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTEC 280 Computer Forensics wk08 Mod 07: Linux and Macintosh File Systems</title>
</head>
<body>
<pre>
<h1>CTEC 280 Computer Forensics wk08 Mod 07: Linux and Macintosh File Systems</h1>
<h2>07.01 Examining Linux File Structures</h2>
    <h3>07.01a File Structures in Ext4</h3>
    <b>Ext2 (Second Extended File System)</b>
    <b>Ext3 (Third Extended File System)</b>
    <b>Ext4 (Fourth Extended File System)</b> - supports partitions over 16TB
    <b>Boot Block</b> - contains 'bootstrap code'; the instructions for system startup
    <b>Super Block</b> - contains info about the system, considered 'metadata'
    <b>Inode Block</b> - 1st data after the superblock, assigned to every File Allocation Unit
    <b>Data Block</b> - where directories and files are stored on the disk
    <b>Inodes</b> - contain file and directory metadata
        <ul>Inodes contain the following information: 
            <li>Mode and type fo the file or directory</li>
            <li>Number of links to a file or directory</li>
            <li>UID and GID of the file's / directory's owner</li>
            <li>Number of bytes in the file or directory</li>
            <li>File's / directory's last access time and last modified time</li>
            <li>Inode's last file status change time</li>
            <li>Block address for the file data</li>
            <li>Indirect, double-indirect, and triple-indirect block addresses for the file data</li>
            <li>Current usage status of the inode</li>
            <li>Number of actual blocks assigned to a file</li>
            <li>File generation number and version number</li>
            <li>Continuation inode's link</li>
        </ul>
    <b>Indirect Pointers</b> - the 1st 10 pointers
    <b>Double-indirect Pointers</b> - pointers in the 2nd layer??
    <b>Triple-indirect Pointers</b> - pointers in the last (3rd) layer
    <b>Bad Block Inode</b> - list of the bad sectors in a linux system
    <b>Hard Links</b> - pointer that allows accessing a file by a different filename
        <i>use the <b>'ln'</b> command in linux to create a hardlink</i>
    <b>Link Count</b> - specifies the number of hard links
        <i>use the <b>'ls -ia'</b> command to list files and their hard link quantity</i>
    <b>Symbolic Links</b> - pointers to other files, not included in link count
        <i>use the <b>'ln -s'</b> command in linux to create a symbolic link</i>

<h2>07.02 Understanding Macintosh File Structures</h2>
<b>HFS (Hierarchical File System)</b>
<b>HFS+ (Extended Format File System)</b>
<b>APFS (Apple File System)</b> - also writes metadata to help with crash protection
    <h3>07.02a An Overview of Mac File Structures</h3>
    <b>Data Fork</b> - 
    <b>Resource Fork</b> - 
    <b>Logical Block</b> - 
    <b>Allocation Block</b> - 
    <b>Logical EOF</b> - 
    <b>Physical EOF</b> - 
    <b>Clumps</b> - 
    <b>Master Directory Block (MDB)</b> - 
    <b>Volume Control Block (VCB)</b> - 
    <b>Extents Overflow File</b> - 
    <b>Catalog</b> - listing of all files and directories on the volume
    <b>B*-tree</b> - early Mac, contains these 3 nodes:
        <b><i>Header Node</i></b> - stores information about the file 
        <b><i>Index Node</i></b> - stores link information to previous and next nodes
        <b><i>Map Node</i></b> - stores node descriptor and map record
    <h3>07.02b Forensics Procedures in Mac</h3>
    <b>Plist files</b> - preference files for installed apps
    <b>Unified Logging</b> -
    <b>keychains</b> - 
    <b>Acquisition Methods in MacOS</b>

<h2>07.03 Using Linux Forensics Tools</h2>
<b>Tarball</b>
<b>Sleuth Kit (previously TASK)</b>
<b>Foremost</b> - carving tool
    <h3>07.03a Installing Sleuth Kith and Autopsy</h3>
    <h3>07.03b Examining a Case with Sleuth Kit and Autopsy</h3>
  
<h2>07.04 Chapter Review</h2>
    <h3>07.04a Chapter Summary</h3>
    <ul>
        <li>UNIX was created to be a multiuser, multithreaded, secure OS. The Open Group was formed as a neutral standards consortium that determines and certifies when an OS meets UNIX requirements.</li>
        <li>The Linux kernel is usually packaged with other software components, such as a GUI and applications. The most widely used distributions include Ubuntu, Mint, Fedora, CentOS, and Gentoo.</li>
        <li>Linux supports a wide range of file systems. The most recent, Ext4, added support for partitions larger than 16 TB, improved management of large files, and offered a more flexible approach to adding file system features.</li>
        <li>UNIX and Linux have four components defining the file system: boot block, superblock, inode block, and data block. In addition, an inode is assigned to each file allocation unit that contains file and directory metadata (except the filename and path) and provides a mechanism for linking data stored in data blocks.</li>
        <li>In the Linux file system, a hard link is a pointer that allows accessing the same file by different filenames, which refer to the same inode and physical location on the drive. Symbolic links are pointers to other files; they can point to items on other drives or other parts of the network and don’t affect the link count.</li>
        <li>Before macOS, the file systems HFS and HFS+ were used. The main difference is that HFS+ raised the number of blocks to more than 4 billion. Consequently, HFS+ supports smaller file sizes on larger volumes, resulting in more efficient disk use. With the advent of macOS High Sierra, the Apple File System was introduced and provides better security, encryption, and performance speeds.</li>
        <li>In older versions of macOS, a file consists of two parts: a data fork, where data is stored, and a resource fork, where file metadata and application information are stored.</li>
        <li>A volume is any storage medium used to store files. Volumes have allocation blocks and logical blocks. When you save a file, it’s assigned to an allocation block, which is a group of consecutive logical blocks. macOS reduces file fragmentation by using clumps, which are groups of contiguous allocation blocks.</li>
        <li>Plist files, which are preference files for installed applications on a system running macOS, can be useful sources of information for a forensics investigation.</li>
        <li>In macOS, unified logging has been added for recording log files and includes new utilities to help forensics examiners.</li>
        <li>The biggest challenge in acquiring images from macOS systems is often physical access to the drive. With many macOS devices, special tools and training from Apple are needed.</li>
        <li>Linux forensics tools are often freeware, so forensics investigators can use them to help keep costs down. Tools such as Autopsy are commonly used.</li>
    </ul>
    <h3>07.04b Key Terms</h3>
    <b>Allocation Block</b>
    <b>Apple File System (APFS)</b>
    <b>B*-tree</b>
    <b>Bad Block Inode</b>
    <b>Boot Block</b>
    <b>Catalog</b>
    <b>Clumps</b>
    <b>Data Block</b>
    <b>Data Fork</b>
    <b>Double-Indirect Pointers</b>
    <b>Extended Format File Systems (HFS+)</b>
    <b>Extents Overflow File</b>
    <b>Fourth Extended File System (Ext4)</b>
    <b>Hard Link</b>
    <b>Header Node</b>
    <b>Hierarchical File System (HFS)</b>
    <b>Index Node</b>
    <b>Indirect Pointers</b>
    <b>Inode Blocks</b>
    <b>Inodes</b>
    <b>Keychains</b>
    <b>Link Count</b>
    <b>Logical Block</b>
    <b>Logical EOF</b>
    <b>Map Node</b>
    <b>Master Directory Block (MDB)</b>
    <b>Physical EOF</b>
    <b>Plist Files</b>
    <b>Resource Fork</b>
    <b>Second Extended File System (Ext2)</b>
    <b>Superblock</b>
    <b>Sybolic Links</b>
    <b>Tarball</b>
    <b>Third Extended File System (Ext3)</b>
    <b>Triple-Indirect Pointers</b>
    <b>Unified Logging</b>
    <b>Volume Control Block (VCB)</b>
    <h3>07.04c Review Questions</h3>
    <b>01) In Linux, which of the following is the home directory for the superuser?</b>
        <i>/root</i>

    <b>02) Hard links work in only one partition or volume.</b>    
        <i>True</i>

    <b>03) Which of the following Linux system files contains hashed passwords for the local system?</b>
        <i>/etc/shadow</i>

    <b>04) Which of the following is the main challenge in acquiring an image of a system running macOS?</b>
        <i>Vendor trainig is needed</i>

    <b>05) Which of the following describes the superblock's function in the Linux file system?</b>
        <i>Manages the file system, including configuration information</i>

    <b>06) How does macOS reduce file fragmentation?</b>
        <i>By using 'clumps'</i>

    <b>07) The Linux Ext4 file system added support for partitions larger than 16 TB.</b>
        <i>True</i>

    <b>08) Hard links are associated with which of the following?</b>
        <i>A specific inode</i>

    <b>09) The Disk Arbitration feature in macOS is used to disable and enable automatic mounting when a drive is connected via a USB or FireWire device.</b>
        <i>True</i>

    <b>10) Data blocks contain actual files and directories and are linked directly to inodes.</b>
        <i>True</i>

    <b>11) On most Linux systems, current user login information is in which of the following locations?</b>
        <i>/var/run/utmp</i>

    <b>12) Linux is the only OS that has a kernel.</b>    
        <i>False</i>

    <b>13) The data fork stores a file's actual data, however, and the resource fork contains file metadata and application information.</b>
        <i>True</i>

    <b>14) To recover a password in macOS, which tool do you use?</b>
        <i>Keychain Access</i>

    <b>15) Which of the following describes plist files?</b>
        <i>You must have a special viewer to view them</i>

    <b>16) Which of the following certifies when an OS meets UNIX requirements?</b>
        <i>The Open Group</i>

    <b>17) Which of the following is a new file added in macOS?</b>
        <i>Either of the above; /var/db/uuid.text; /var/db/diagnostics</i>

    <h3>07.04d Hands-On Projects</h3>

</pre>
</body>
</html>